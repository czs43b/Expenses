import{a as Ee,b as z,c as Se,d as Te,e as Me,f as we,g as De,h as Fe,i as ke,k as Oe}from"./chunk-O4VSYUAH.js";import{a as J}from"./chunk-W73NIBRV.js";import{a as Be}from"./chunk-67SE732Q.js";import"./chunk-FNW6C2EI.js";import"./chunk-5U7AXR3O.js";import{$ as F,$a as fe,A as $,Aa as U,B as W,Ba as ce,Ca as v,Da as pe,Ea as T,F as I,G as E,H as X,Hb as Z,I as Y,Ia as M,Ja as Q,K as x,Ka as q,M as D,N as ee,Q as te,Qa as m,R as a,Ra as ue,S as _,Wa as G,Xa as de,Za as me,_ as ne,_a as N,aa as f,ab as he,ba as g,bb as ge,ca as s,cb as be,db as _e,ea as ie,eb as Ce,fa as k,ga as oe,ha as l,ia as r,ib as ve,ja as b,ka as B,la as O,lb as ye,ma as se,mb as xe,na as P,ob as Ie,pa as d,qa as c,ra as A,sa as L,ta as ae,u as H,va as le,wa as re,x as y,y as C,ya as p,z as V,za as S}from"./chunk-PTYEF7PQ.js";import"./chunk-6H46YYVM.js";var Re=["*"];function He(t,o){if(t&1){let e=P();l(0,"div",1)(1,"div",2)(2,"span",3)(3,"button",4),d("click",function(){I(e);let n=c();return E(n.onClose())}),p(4,"\xD7"),r()(),L(5),r()()}}var j=class t{showModal=!1;closeModal=new x;onClose(){this.closeModal.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-modal"]],inputs:{showModal:"showModal"},outputs:{closeModal:"closeModal"},standalone:!0,features:[v],ngContentSelectors:Re,decls:1,vars:1,consts:[["class","fixed inset-0 z-50 overflow-auto bg-gray-900/60 flex",4,"ngIf"],[1,"fixed","inset-0","z-50","overflow-auto","bg-gray-900/60","flex"],[1,"relative","p-8","bg-white","w-full","max-w-md","m-auto","flex-col","flex","rounded-lg"],[1,"absolute","top-0","right-0","p-4"],[1,"text-black",3,"click"]],template:function(e,i){e&1&&(A(),f(0,He,6,0,"div",0)),e&2&&s("ngIf",i.showModal)},dependencies:[N]})};var R=class t{constructor(o){this.sanitizer=o}transform(o){return this.sanitizer.bypassSecurityTrustHtml(o)}static \u0275fac=function(e){return new(e||t)(_(ve,16))};static \u0275pipe=W({name:"safeHtml",type:t,pure:!0,standalone:!0})};var Pe=(()=>{class t{autofocus=!1;focused=!1;platformId=y(ee);document=y(G);host=y(D);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Ce(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=we.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=$({type:t,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",m]},standalone:!0,features:[F]})}return t})();var Ae=(()=>{class t extends Me{pathId;ngOnInit(){this.pathId="url(#"+Ee()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Y(t)))(n||t)}})();static \u0275cmp=C({type:t,selectors:[["SpinnerIcon"]],standalone:!0,features:[ne,v],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(X(),l(0,"svg",0)(1,"g"),b(2,"path",1),r(),l(3,"defs")(4,"clipPath",2),b(5,"rect",3),r()()()),i&2&&(k(n.getClassNames()),g("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),a(),g("clip-path",n.pathId),a(3),s("id",n.pathId))},encapsulation:2})}return t})();var Ve=["*"],Le=t=>({class:t});function $e(t,o){t&1&&se(0)}function Ue(t,o){if(t&1&&b(0,"span",8),t&2){let e=c(3);s("ngClass",e.iconClass()),g("aria-hidden",!0)("data-pc-section","loadingicon")}}function Qe(t,o){if(t&1&&b(0,"SpinnerIcon",9),t&2){let e=c(3);s("styleClass",e.spinnerIconClass())("spin",!0),g("aria-hidden",!0)("data-pc-section","loadingicon")}}function qe(t,o){if(t&1&&(B(0),f(1,Ue,1,3,"span",6)(2,Qe,1,4,"SpinnerIcon",7),O()),t&2){let e=c(2);a(),s("ngIf",e.loadingIcon),a(),s("ngIf",!e.loadingIcon)}}function Ge(t,o){}function Ze(t,o){if(t&1&&f(0,Ge,0,0,"ng-template",10),t&2){let e=c(2);s("ngIf",e.loadingIconTemplate)}}function Je(t,o){if(t&1&&(B(0),f(1,qe,3,2,"ng-container",2)(2,Ze,1,1,null,5),O()),t&2){let e=c();a(),s("ngIf",!e.loadingIconTemplate),a(),s("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",T(3,Le,e.iconClass()))}}function Ke(t,o){if(t&1&&b(0,"span",8),t&2){let e=c(2);s("ngClass",e.iconClass()),g("data-pc-section","icon")}}function We(t,o){}function Xe(t,o){if(t&1&&f(0,We,0,0,"ng-template",10),t&2){let e=c(2);s("ngIf",!e.icon&&e.iconTemplate)}}function Ye(t,o){if(t&1&&(B(0),f(1,Ke,1,2,"span",6)(2,Xe,1,1,null,5),O()),t&2){let e=c();a(),s("ngIf",e.icon&&!e.iconTemplate),a(),s("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",T(3,Le,e.iconClass()))}}function et(t,o){if(t&1&&(l(0,"span",11),p(1),r()),t&2){let e=c();g("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),a(),S(e.label)}}function tt(t,o){if(t&1&&(l(0,"span",8),p(1),r()),t&2){let e=c();k(e.badgeClass),s("ngClass",e.badgeStyleClass()),g("data-pc-section","badge"),a(),S(e.badge)}}var K=(()=>{class t{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new x;onFocus=new x;onBlur=new x;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[i])=>e+` ${i}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||t)(_(D))};static \u0275cmp=C({type:t,selectors:[["p-button"]],contentQueries:function(i,n,u){if(i&1&&ae(u,Se,4),i&2){let h;le(h=re())&&(n.templates=h)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,n){i&2&&ie("p-disabled",n.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",m],loading:[2,"loading","loading",m],loadingIcon:"loadingIcon",raised:[2,"raised","raised",m],rounded:[2,"rounded","rounded",m],text:[2,"text","text",m],plain:[2,"plain","plain",m],severity:"severity",outlined:[2,"outlined","outlined",m],link:[2,"link","link",m],tabindex:[2,"tabindex","tabindex",ue],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",m]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[F,v],ngContentSelectors:Ve,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,n){i&1&&(A(),l(0,"button",0),d("click",function(h){return n.onClick.emit(h)})("focus",function(h){return n.onFocus.emit(h)})("blur",function(h){return n.onBlur.emit(h)}),L(1),f(2,$e,1,0,"ng-container",1)(3,Je,3,5,"ng-container",2)(4,Ye,3,5,"ng-container",2)(5,et,2,3,"span",3)(6,tt,2,5,"span",4),r()),i&2&&(s("ngStyle",n.style)("disabled",n.disabled||n.loading)("ngClass",n.buttonClass)("autofocus",n.autofocus),g("type",n.type)("aria-label",n.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",n.tabindex),a(2),s("ngTemplateOutlet",n.contentTemplate),a(),s("ngIf",n.loading),a(),s("ngIf",!n.loading),a(),s("ngIf",!n.contentTemplate&&n.label),a(),s("ngIf",!n.contentTemplate&&n.badge))},dependencies:[N,he,fe,de,De,Pe,Ae],encapsulation:2,changeDetection:0})}return t})(),Ne=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=V({type:t});static \u0275inj=H({imports:[K,Te]})}return t})();var it=()=>({width:"100%",right:"0",left:"0"}),ot=t=>({"920px":t});function st(t,o){t&1&&(l(0,"div",4),p(1,"Unauthorised! Please login to add/update items."),r())}function at(t,o){if(t&1){let e=P();l(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h5",16),p(5),r(),l(6,"h2",17),p(7),M(8,"number"),r(),b(9,"p",18),M(10,"safeHtml"),l(11,"div",19)(12,"button",20),d("click",function(){let n=I(e).$implicit,u=c();return E(u.editExpense(n.key))}),p(13,"Edit"),r(),l(14,"button",21),d("click",function(){let n=I(e).$implicit,u=c();return E(u.deleteExpense(n.key))}),p(15,"Remove"),r()()()()()()}if(t&2){let e=o.$implicit;a(5),S(e.title),a(2),U("\xA3",q(8,3,e.price,"1.2-2"),""),a(2),s("innerHTML",Q(10,6,e.description),te)}}var ze=class t{constructor(o,e,i,n){this.expenseService=o;this.router=e;this.messageService=i;this.dialogService=n;this.items=this.getAllDocuments(),this.isLoggedIn.subscribe(u=>{this.authorised=u}),this.items.subscribe(u=>{this.totalPrice=0,u.forEach(h=>{this.totalPrice+=Number(h.price)})})}items;totalPrice=0;isLoggedIn=y(Z).isLoggedIn();authorised;authService=y(Z);unauthorised=!1;isLoginFormModelOpen=!1;openDialog(){let o=this.dialogService.open(J,{header:"Choose a car",width:"70%"})}show(){this.messageService.add({severity:"error",summary:"Oops!",detail:"Looks like something went wrong.",life:5e3})}getAllDocuments(){return this.expenseService.getAllExpenses()}editExpense(o){this.router.navigate(["/expense-form/"+o])}deleteExpense(o){this.authorised?this.expenseService.deleteExpense(o):this.unauthorised=!0}addExpense(){this.authorised?this.router.navigate(["/expense-form"]):this.unauthorised=!0}ngOnInit(){}ngOnDestroy(){}static \u0275fac=function(e){return new(e||t)(_(Be),_(ye),_(z),_(Oe))};static \u0275cmp=C({type:t,selectors:[["app-expense"]],standalone:!0,features:[ce([z]),v],decls:18,vars:13,consts:[[1,"mb-4","d-flex","justify-content-between","align-items-center"],["type","button","routerLink","/expense-form",1,"btn","btn-primary",3,"click"],[1,"fw-bold","align-items-center"],[1,"text-success"],[1,"form-text","text-danger","fw-bold"],["class","mt-4",4,"ngFor","ngForOf"],[1,"btn","btn-info",3,"click"],[3,"closeModal","showModal"],[3,"formSubmit"],[1,"card","flex","justify-content-center"],[3,"breakpoints"],["label","Show",3,"onClick"],[1,"mt-4"],[1,"d-flex","flex-column","gap-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"fw-bold","text-success"],[1,"card-text",3,"innerHTML"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"button",1),d("click",function(){return i.addExpense()}),p(2,"Add Expense"),r(),l(3,"h5",2),p(4,"Total Expenses: "),l(5,"strong",3),p(6),M(7,"number"),r()()(),f(8,st,2,0,"div",4)(9,at,16,8,"div",5),M(10,"async"),l(11,"button",6),d("click",function(){return i.openDialog()}),p(12,"Modal"),r(),l(13,"app-modal",7),d("closeModal",function(){return i.isLoginFormModelOpen=!1}),l(14,"app-login-form",8),d("formSubmit",function(){return i.isLoginFormModelOpen=!1}),r()(),l(15,"div",9),b(16,"p-toast",10),l(17,"p-button",11),d("onClick",function(){return i.show()}),r()()),e&2&&(a(6),U("\xA3",q(7,5,i.totalPrice,"1.2-2"),""),a(2),oe(i.unauthorised?8:-1),a(),s("ngForOf",Q(10,8,i.items)),a(4),s("showModal",i.isLoginFormModelOpen),a(3),s("breakpoints",T(11,ot,pe(10,it))))},dependencies:[_e,me,ge,be,Ie,xe,j,J,R,ke,Fe,Ne,K]})};export{ze as ExpenseComponent};
